import { Type, type, string } from 'codeco';
import { commitIdAsString, EventTypeAsNumber, StreamMetadata } from './stream.js';
export const JsonAsString = new Type('JSON-as-string', (_input) => true, (input, context) => {
    try {
        return context.success(JSON.parse(input));
    }
    catch {
        return context.failure();
    }
}, (data) => JSON.stringify(data));
export const AggregationDocument = type({
    resumeToken: string,
    commitId: commitIdAsString,
    content: JsonAsString,
    metadata: StreamMetadata,
    eventType: EventTypeAsNumber,
});
//# sourceMappingURL=feed.js.map